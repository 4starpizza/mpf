#config_version=4

hardware:
  platform: virtual
  driverboards: virtual
  stepper_controllers: trinamics_steprocker

trinamics_steprocker:
  port: /dev/ttyACM0

steppers:
    # linearAxis_stepper:
    #     number: 1
    #     pos_min:   -5.0 #user units (negative is behind home flag)
    #     pos_max: 1000.0 #user units
    #     move_current:  30 #percent
    #     hold_current:   0 #percent
    #     microstep_per_fullstep: 16 # 1/16 mode (1 step = 1/16 of a full step); this allows finer resolution than 1.8 degrees; set to 1 to run fullsteps
    #     microstep_per_userunit: 8.89 # conversion scaler from microsteps to user unit (millimeters, whatever) (set to 1 for no scaling)
    #     home_direction: clockwise
    #     velocity_limit: 6 #user units/sec so 6 deg/second
    #     acceleration_limit: 6 #user units/sec^2
    #     reset_position: 0
    #     reset_events: test_reset
    #     named_positions:
    #         -5: test_00
    #         999: test_01
    #         500: test_10

    rotaryMotor_stepper:
        number: 0
        mode: velocity
        move_current:  10 #percent
        hold_current:   0 #percent
        microstep_per_fullstep: 16 # 1/16 mode (1 step = 1/16 of a full step)
        microstep_per_userunit: 8.89 # rough conversion to 1 degree units: 1/360 degree * (1 / (1/16 mode)) * (360/1.8 degrees per fullstep motor))
        velocity_limit: 60 #user units/sec   (so, 60 deg per second based on user unit of 1 degree)
        acceleration_limit: 60 #user units/sec^2         